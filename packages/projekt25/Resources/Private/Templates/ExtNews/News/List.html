<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"

      xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"

      data-namespace-typo3-fluid="true">
<f:layout name="General" />
<!--

	=====================

		Templates/News/List.html

-->
<f:section name="content">
    <!--TYPO3SEARCH_end-->
    <f:if condition="{news}">
        <f:then>

            <div class="news-list-view" id="news-container-{contentObjectData.uid}">

                <f:if condition="{settings.hidePagination}">
                    <f:then>
                        <f:if condition="{settings.templateLayout}=1">
                            <f:then>
                                <div class="row">
                                    <f:for each="{news}" as="newsItem" iteration="iterator">
                                        <f:render partial="List/KWMItem" arguments="{newsItem: newsItem,settings:settings,iterator:iterator}" />
                                    </f:for>
                                </div>
                            </f:then>
                            <f:else>
                                <ul class="list-group mb-3">
                                    <f:for each="{news}" as="newsItem" iteration="iterator">
                                        <f:render partial="List/Item" arguments="{newsItem: newsItem,settings:settings,iterator:iterator}" />
                                    </f:for>
                                </ul>
                            </f:else>
                        </f:if>
                    </f:then>
                    <f:else>
                        <f:if condition="{settings.list.paginate.insertAbove}">
                            <f:render partial="List/Pagination" arguments="{pagination: pagination.pagination, paginator: pagination.paginator}" />
                        </f:if>
                        <f:if condition="{settings.templateLayout}=1">
                            <f:then>
                                <div class="row row-gap-3">
                                    <f:for each="{news}" as="newsItem" iteration="iterator">
                                        <f:render partial="List/KWMItem" arguments="{newsItem: newsItem,settings:settings,iterator:iterator}" />
                                    </f:for>
                                </div>
                            </f:then>
                            <f:else>
                                <ul class="list-group mb-3">
                                    <f:for each="{news}" as="newsItem" iteration="iterator">
                                        <f:render partial="List/Item" arguments="{newsItem: newsItem,settings:settings,iterator:iterator}" />
                                    </f:for>
                                </ul>
                            </f:else>
                        </f:if>
                        <f:if condition="{settings.list.paginate.insertBelow}">
                            <f:render partial="List/Pagination" arguments="{pagination: pagination.pagination, paginator: pagination.paginator}" />
                        </f:if>
                    </f:else>
                </f:if>
            </div>
        </f:then>
        <f:else>
            <div class="alert ">
                <f:translate key="list_nonewsfound" />
            </div>
        </f:else>
    </f:if>
    <!--TYPO3SEARCH_begin-->
</f:section>
</html>


<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"

      xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"

      data-namespace-typo3-fluid="true">
<!--Partials/List/KWMItem.html-->
<n:excludeDisplayedNews newsItem="{newsItem}" />
<div class="card col-12 col-md-4">
    <h1>KWM Item</h1>
    <f:if condition="{newsItem.mediaPreviews}">
        <f:then>
            <f:media class="card-img-top"
                     file="{newsItem.mediaPreviews.0}" title="{newsItem.mediaPreviews.0.originalResource.title}" alt="{newsItem.mediaPreviews.0.originalResource.alternative}" loading="{settings.list.media.image.lazyLoading}"  width="{f:if(condition: settings.media.maxWidth, then: settings.media.maxWidth, else: settings.list.media.image.width)}" height="{f:if(condition: settings.media.maxHeight, then: settings.media.maxHeight, else:'')}" />
        </f:then>
        <f:else>
            <f:if condition="{settings.displayDummyIfNoMedia}">
                <f:image class="img-dummy img-fluid" src="{settings.list.media.dummyImage}" title="" alt="" loading="{settings.list.media.image.lazyLoading}"  maxWidth="{settings.list.media.image.maxWidth}" maxHeight="{settings.list.media.image.maxHeight}" />
            </f:if>
        </f:else>
    </f:if>
    <div class="card-body">
        <h5 class="card-title">
            <n:link newsItem="{newsItem}" settings="{settings}" title="{newsItem.title}" additionalAttributes="{itemprop:'url'}">

                {newsItem.title}
            </n:link>
        </h5>
        <n:removeMediaTags>
            <p class="card-text">
                <f:if condition="{newsItem.teaser}">
                    <f:then>

                        {newsItem.teaser -> f:format.crop(maxCharacters: '{settings.cropMaxCharacters}', respectWordBoundaries:'1') -> f:format.html()}
                    </f:then>
                    <f:else>

                        {newsItem.bodytext -> f:format.crop(maxCharacters: '{settings.cropMaxCharacters}', respectWordBoundaries:'1') -> f:format.html()}
                    </f:else>
                </f:if>
            </p>
        </n:removeMediaTags>
        <n:link newsItem="{newsItem}" settings="{settings}" class="btn btn-primary btn-read-more" title="{newsItem.title}">
            <f:translate key="more-link" />
        </n:link>
    </div>
</div>
<f:comment>
    <div class="list-group-item">
        <div class="row news-list-item mb-3">
            <div class="col-md-3">
                <n:link newsItem="{newsItem}" settings="{settings}" title="{newsItem.title}">
                    <f:if condition="{newsItem.mediaPreviews}">
                        <f:then>
                            <f:media class="img-fluid" file="{newsItem.mediaPreviews.0}" title="{newsItem.mediaPreviews.0.originalResource.title}" alt="{newsItem.mediaPreviews.0.originalResource.alternative}" loading="{settings.list.media.image.lazyLoading}"  width="{f:if(condition: settings.media.maxWidth, then: settings.media.maxWidth, else: settings.list.media.image.width)}" height="{f:if(condition: settings.media.maxHeight, then: settings.media.maxHeight, else:'')}" />
                        </f:then>
                        <f:else>
                            <f:if condition="{settings.displayDummyIfNoMedia}">
                                <f:image class="img-dummy img-fluid" src="{settings.list.media.dummyImage}" title="" alt="" loading="{settings.list.media.image.lazyLoading}"  maxWidth="{settings.list.media.image.maxWidth}" maxHeight="{settings.list.media.image.maxHeight}" />
                            </f:if>
                        </f:else>
                    </f:if>
                </n:link>
            </div>
            <div class="col-md-9 articletype-{newsItem.type}{f:if(condition: newsItem.istopnews, then: ' topnews')}" itemscope="itemscope" itemtype="http://schema.org/Article">
                <h3 itemprop="headline">
                    <n:link newsItem="{newsItem}" settings="{settings}" title="{newsItem.title}" additionalAttributes="{itemprop:'url'}">

                        {newsItem.title}
                    </n:link>
                </h3>
                <f:render partial="General/AdditionalInformation" arguments="{settings:settings,newsItem:newsItem}" />
                <!-- teaser -->
                <div class="lead" itemprop="description">
                    <n:removeMediaTags>
                        <f:if condition="{newsItem.teaser}">
                            <f:then>

                                {newsItem.teaser -> f:format.crop(maxCharacters: '{settings.cropMaxCharacters}', respectWordBoundaries:'1') -> f:format.html()}
                            </f:then>
                            <f:else>

                                {newsItem.bodytext -> f:format.crop(maxCharacters: '{settings.cropMaxCharacters}', respectWordBoundaries:'1') -> f:format.html()}
                            </f:else>
                        </f:if>
                    </n:removeMediaTags>
                </div>
                <n:link newsItem="{newsItem}" settings="{settings}" class="btn btn-primary btn-read-more" title="{newsItem.title}">
                    <f:translate key="more-link" />
                </n:link>
            </div>
        </div>
    </div>
</f:comment>
</html>


